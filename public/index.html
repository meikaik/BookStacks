<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>Comuet</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Google Maps API -->
    <script src="https://maps.googleapis.com/maps/api/js">
    </script>

    <!-- Bootstrap -->
    <link href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css' rel='stylesheet'>
    <script href='libs/bootstrap.min.js'></script>

    <!-- jQuery CDN & NiceScroll-->
    <script src="libs/jquery.min.js"></script>
    <script src="libs/jquery.nicescroll.min.js"></script>

    <!-- Ionic CSS -->
    <link href="libs/ionic.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/ionicons/2.0.1/css/ionicons.min.css" rel="stylesheet">

    <!-- Angular Source -->
    <script src="libs/angular.min.js"></script>
    <script src='libs/angular-ui-router.js'></script>

    <!-- Root JS -->
    <script src="js/app.js"></script>

    <!-- Controllers JS -->
    <script src="js/ctrl.js"></script>

    <!-- Services JS -->
    <script src="services/Login-factory.js"></script>
    <script src="services/ServerPosts-factory.js"></script>
    <script src="services/Posts-storage.js"></script>
    <script src="services/Parser-factory.js"></script>


</head>
<body ng-app='Comuet' ng-controller='mainCtrl'>

        <div>

            <div class='col-md-3' style='height:100vh;padding:0; overflow:scroll;'>
                <button class='btn btn-warning' ng-if='!signedIn' ng-click='login()' style='height:100%; width:100%;'>Login with Facebook</button>
                <div ng-if='signedIn'>
                    <div class='card' ng-repeat='post in posts'>
                        <!-- PROFILE PICTURE -->
                        <a href='{{post.userurl}}'>
                            <img src="{{post.userpic}}" class="img-circle col-md-3" width="100%;" height="100%" style='display:inline-block; max-height: 7rem; max-width: 7rem;'>
                        </a>
    
                        <!-- POSTED BY -->
                        <p class='col-md-9' style='display:inline-block; min-height:15%; font-size:0.9rem;'>
                            Posted by <a ng-click='open_in_new_tab(post.userurl)'>{{post.username}}</a>
                        </p>

                        <button class='btn btn-warning' ng-click="open_in_new_tab(post.posturl);">See Original</button> 

                        <br/><br/>
                        <!-- SPACING -->
                        <div class='col-md-12' style='min-height: 15%;'></div>

                        <b>FROM: {{post.from_address}}</b> <br/><br/>
                        <b>TO: {{post.to_address}}</b> <br/>
                        <h3>${{post.price}}</h3> <br/>
                        {{post.message}}
                    </div>
                </div>
            </div>

            <div class='col-md-9' style='height:100vh;padding:0;'>
                <!-- GOOGLE MAP -->
                <div id='map' style='width:100%; height:100%;'></div>
            </div>

        </div>

        <!-- Facebook -->
        <div id="fb-root"></div>
        <script>(function(d, s, id) {
          var js, fjs = d.getElementsByTagName(s)[0];
          if (d.getElementById(id)) return;
          js = d.createElement(s); js.id = id;
          // development appID
          js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.5&appId=299804590357995";
          fjs.parentNode.insertBefore(js, fjs);
        }(document, 'script', 'facebook-jssdk'));
        </script>
        
</body>

</html>